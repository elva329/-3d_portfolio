import{B as $,V as T,M as L,F as G,u as X,a as z,T as F,r as u,b as Z,E as H,c as R,O as q,_ as v,d as J,m as K,e as Q,j as d,C as Y,P as V}from"./index-393d8476.js";import{C as tt,O as et}from"./Loader-487b3045.js";import{S as ot}from"./SectionWrapper-bc029266.js";import{t as rt}from"./index-d78a8b8d.js";import"./styles-62476b02.js";class st extends ${constructor(p,m,x,b){super();const f=[],M=[],k=[],y=new T,E=new L;E.makeRotationFromEuler(x),E.setPosition(m);const B=new L;B.copy(E).invert(),w(),this.setAttribute("position",new G(f,3)),this.setAttribute("normal",new G(M,3)),this.setAttribute("uv",new G(k,2));function w(){let t,e=[];const s=new T,n=new T;if(p.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const r=p.geometry,A=r.attributes.position,g=r.attributes.normal;if(r.index!==null){const l=r.index;for(t=0;t<l.count;t++)s.fromBufferAttribute(A,l.getX(t)),n.fromBufferAttribute(g,l.getX(t)),O(e,s,n)}else for(t=0;t<A.count;t++)s.fromBufferAttribute(A,t),n.fromBufferAttribute(g,t),O(e,s,n);for(e=a(e,y.set(1,0,0)),e=a(e,y.set(-1,0,0)),e=a(e,y.set(0,1,0)),e=a(e,y.set(0,-1,0)),e=a(e,y.set(0,0,1)),e=a(e,y.set(0,0,-1)),t=0;t<e.length;t++){const l=e[t];k.push(.5+l.position.x/b.x,.5+l.position.y/b.y),l.position.applyMatrix4(E),f.push(l.position.x,l.position.y,l.position.z),M.push(l.normal.x,l.normal.y,l.normal.z)}}function O(t,e,s){e.applyMatrix4(p.matrixWorld),e.applyMatrix4(B),s.transformDirection(p.matrixWorld),t.push(new P(e.clone(),s.clone()))}function a(t,e){const s=[],n=.5*Math.abs(b.dot(e));for(let r=0;r<t.length;r+=3){let A,g,l,C=0,i,h,j,D;const I=t[r+0].position.dot(e)-n,_=t[r+1].position.dot(e)-n,N=t[r+2].position.dot(e)-n;switch(A=I>0,g=_>0,l=N>0,C=(A?1:0)+(g?1:0)+(l?1:0),C){case 0:{s.push(t[r]),s.push(t[r+1]),s.push(t[r+2]);break}case 1:{if(A&&(i=t[r+1],h=t[r+2],j=c(t[r],i,e,n),D=c(t[r],h,e,n)),g){i=t[r],h=t[r+2],j=c(t[r+1],i,e,n),D=c(t[r+1],h,e,n),s.push(j),s.push(h.clone()),s.push(i.clone()),s.push(h.clone()),s.push(j.clone()),s.push(D);break}l&&(i=t[r],h=t[r+1],j=c(t[r+2],i,e,n),D=c(t[r+2],h,e,n)),s.push(i.clone()),s.push(h.clone()),s.push(j),s.push(D),s.push(j.clone()),s.push(h.clone());break}case 2:{A||(i=t[r].clone(),h=c(i,t[r+1],e,n),j=c(i,t[r+2],e,n),s.push(i),s.push(h),s.push(j)),g||(i=t[r+1].clone(),h=c(i,t[r+2],e,n),j=c(i,t[r],e,n),s.push(i),s.push(h),s.push(j)),l||(i=t[r+2].clone(),h=c(i,t[r],e,n),j=c(i,t[r+1],e,n),s.push(i),s.push(h),s.push(j));break}}}return s}function c(t,e,s,n){const r=t.position.dot(s)-n,A=e.position.dot(s)-n,g=r/(r-A);return new P(new T(t.position.x+g*(e.position.x-t.position.x),t.position.y+g*(e.position.y-t.position.y),t.position.z+g*(e.position.z-t.position.z)),new T(t.normal.x+g*(e.normal.x-t.normal.x),t.normal.y+g*(e.normal.y-t.normal.y),t.normal.z+g*(e.normal.z-t.normal.z)))}}}class P{constructor(p,m){this.position=p,this.normal=m}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const U=o=>o===Object(o)&&!Array.isArray(o)&&typeof o!="function";function W(o,p){const m=X(b=>b.gl),x=z(F,U(o)?Object.values(o):o);if(u.useLayoutEffect(()=>{p==null||p(x)},[p]),u.useEffect(()=>{(Array.isArray(x)?x:[x]).forEach(m.initTexture)},[m,x]),U(o)){const b=Object.keys(o),f={};return b.forEach(M=>Object.assign(f,{[M]:x[b.indexOf(M)]})),f}else return x}W.preload=o=>z.preload(F,o);W.clear=o=>z.clear(F,o);function nt(o){return Array.isArray(o)}function S(o=[0,0,0]){return nt(o)?o:o instanceof T||o instanceof H?[o.x,o.y,o.z]:[o,o,o]}const at=u.forwardRef(function({debug:p,mesh:m,children:x,position:b,rotation:f,scale:M,...k},y){const E=u.useRef(null);u.useImperativeHandle(y,()=>E.current);const B=u.useRef(null);return u.useLayoutEffect(()=>{const w=(m==null?void 0:m.current)||E.current.parent,O=E.current;if(!(w instanceof Z))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const a={position:new T,rotation:new H,scale:new T(1,1,1)};if(w){R(a,{position:b,scale:M});const c=w.matrixWorld.clone();if(w.matrixWorld.identity(),!f||typeof f=="number"){const t=new q;t.position.copy(a.position),t.lookAt(w.position),typeof f=="number"&&t.rotateZ(f),R(a,{rotation:t.rotation})}else R(a,{rotation:f});return O.geometry=new st(w,a.position,a.rotation,a.scale),B.current&&R(B.current,a),w.matrixWorld=c,()=>{O.geometry.dispose()}}},[m,...S(b),...S(M),...S(f)]),u.createElement("mesh",{ref:E},x||u.createElement("meshStandardMaterial",v({transparent:!0,polygonOffset:!0,polygonOffsetFactor:-10},k)),p&&u.createElement("mesh",{ref:B},u.createElement("boxGeometry",null),u.createElement("meshNormalMaterial",{wireframe:!0}),u.createElement("axesHelper",null)))}),it=u.forwardRef(({children:o,enabled:p=!0,speed:m=1,rotationIntensity:x=1,floatIntensity:b=1,floatingRange:f=[-.1,.1],...M},k)=>{const y=u.useRef(null),E=u.useRef(Math.random()*1e4);return J(B=>{var w,O;if(!p||m===0)return;const a=E.current+B.clock.getElapsedTime();y.current.rotation.x=Math.cos(a/4*m)/8*x,y.current.rotation.y=Math.sin(a/4*m)/8*x,y.current.rotation.z=Math.sin(a/4*m)/20*x;let c=Math.sin(a/4*m)/10;c=Q.mapLinear(c,-.1,.1,(w=f==null?void 0:f[0])!==null&&w!==void 0?w:-.1,(O=f==null?void 0:f[1])!==null&&O!==void 0?O:.1),y.current.position.y=c*b,y.current.updateMatrix()}),u.createElement("group",M,u.createElement("group",{ref:K([y,k]),matrixAutoUpdate:!1},o))}),lt=o=>{const[p]=W([o.imgUrl]);return d.jsxs(it,{speed:1.75,rotationIntensity:1,floatIntensity:2,children:[d.jsx("ambientLight",{intensity:.25}),d.jsx("directionalLight",{position:[0,0,.05]}),d.jsxs("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[d.jsx("icosahedronGeometry",{args:[1,1]}),d.jsx("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),d.jsx(at,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],scale:1,map:p,flatShading:!0})]})]})},ut=({icon:o})=>d.jsxs(Y,{frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},children:[d.jsxs(u.Suspense,{fallback:d.jsx(tt,{}),children:[d.jsx(et,{enableZoom:!1}),d.jsx(lt,{imgUrl:o})]}),d.jsx(V,{all:!0})]}),ct=()=>d.jsx("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:rt.map(o=>d.jsx("div",{className:"w-28 h-28",children:d.jsx(ut,{icon:o.icon})},o.name))}),xt=ot(ct,"");export{xt as default};
